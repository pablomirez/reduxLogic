<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Udacity Todos Goals</title>
</head>
<body>

<script type="text/javascript">

    //Library code

    function createStore(reducer){
        //The store should have four parts
        // 1. The state
        // 2. Get the state
        // 3. Listen to changes on the state
        // 4. Update the state

        let state
        let listeners = []

        const getState = () => state

        const subscribe = (listener) => {
            listeners.push(listener)
            return() => {
                listeners = listeners.filter( (l) => l !== listener )
            }
        }

        const dispatch = (action) => {
            state = reducer(state, action)
            listeners.forEach((listener) => listener())
        }


        return {
            getState,
            subscribe,
            dispatch
        }

    } //End of function create store

    //App code
    const ADD_TODO = 'ADD_TODO'
    const REMOVE_TODO = 'REMOVE_TODO'
    const TOGGLE_TODO = 'TOGGLE_TODO'
    const ADD_GOAL = 'ADD_GOAL'
    const REMOVE_GOAL = 'REMOVE_GOAL'


    function addTodoAction (todo){
        return {
            type: ADD_TODO,
            todo
        }
    }

    function removeTodoAction (id){
        return {
            type: REMOVE_TODO,
            id
        }
    }

    function toggleTodoAction(id){
        return {
            type: TOGGLE_TODO,
            id
        }
    }

    function addGoalAction (goal){
        return {
            type: ADD_GOAL,
            goal
        }
    }

    function removeGoalAction(id){
        return {
            type: REMOVE_GOAL,
            id
        }
    }

    function todos (state = [], action {

    })






</script>


</body>
</html>